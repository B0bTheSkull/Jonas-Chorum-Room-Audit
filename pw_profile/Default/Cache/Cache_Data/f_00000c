function showErrorMessage(n,t,i,r,u){var e,f,s,o;$("#"+t).html("");e=i+"Content/Images/Error-Large.png";f='<button class="close" aria-label="Close" type="button" data-dismiss="alert"><span aria-hidden="true">&times;<\/span><\/button>';r&&r.hideCloseButton===!0&&(f="");u||(u="");n&&n.indexOf("\n")>0?(s=n.split("\n").join("<br />"),o=$('<div class="alert alert-danger alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><table><tr><td><img class="layout-margin-right-small" src="'+e+'"><\/td><td width="100%"><strong>'+s+"<\/strong>"+u+"<\/td><td>"+f+"<\/td><\/tr><\/table><\/div>")):o=$('<div class="alert alert-danger alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><img src="'+e+'" class="layout-margin-right-small"/><strong>'+n+"<\/strong>"+u+f+"<\/div>");o.appendTo("#"+t)}function showErrorMessageWithoutIcon(n,t,i,r){var u,e,f;$("#"+t).html("");u='<button class="close" aria-label="Close" type="button" data-dismiss="alert"><span aria-hidden="true">&times;<\/span><\/button>';r&&r.hideCloseButton===!0&&(u="");n&&n.indexOf("\n")>0?(e=n.split("\n").join("<br />"),f=$('<div class="alert alert-danger alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><table><tr><td width="100%"><strong>'+e+"<\/strong><\/td><td>"+u+"<\/td><\/tr><\/table><\/div>")):f=$('<div class="alert alert-danger alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><strong>'+n+"<\/strong>"+u+"<\/div>");f.appendTo("#"+t)}function showSuccessMessage(n,t,i,r,u){var o,f,e,s,h;if($("#"+t).html(""),o=i+"Content/Images/Save-Large.png",f='<button id="closeButton" class="close" aria-label="Close" type="button" data-dismiss="alert"><span aria-hidden="true">&times;<\/span><\/button>',r&&r.hideCloseButton===!0&&(f="&nbsp;"),e="alert-success",r&&r.alertCssClass&&(e=r.alertCssClass),u||(u=""),n&&n.indexOf("\n")>0)var c=n.split("\n").join("<br />"),s='<td><img class="layout-margin-right-small" src="'+o+'"><\/td>',h=$('<div class="alert '+e+' alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><table><tr>'+(r&&r.hideSuccessImage?"":s)+'<td width="100%"><strong>'+c+"<\/strong>"+u+"<\/td><td>"+f+"<\/td><\/tr><\/table><\/div>");else s='<img src="'+o+'" class="layout-margin-right-small"/>',h=$('<div class="alert '+e+' alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert">'+(r&&r.hideSuccessImage?"":s)+"<strong>"+n+"<\/strong>"+u+f+"<\/div>");r&&r.hideCloseButton!==!0&&r.closeButtonOnClickFunction&&h.find("#closeButton").click(r.closeButtonOnClickFunction);h.appendTo("#"+t)}function hideErrorMessage(n){$("#"+n).html("")}function hideSuccessMessage(n){$("#"+n).html("")}function hideInputErrorMessage(n){$("#"+n).find(":input").removeClass("input-validation-error")}function showRedBannerMessage(n,t){$("#"+t).html("");var i=$('<div class="alert alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" style="background: #ff7d66; foreground: #595959;">'+n+'<button class="close" aria-label="Close" type="button" data-dismiss="alert"><span aria-hidden="true">&times;<\/span><\/button><\/div>');i.appendTo("#"+t)}function showDialog(n){return n.showImage=!1,n.button2Text?twoButtonDialog(n):oneButtonDialog(n)}function showNoButtonDialog(n){return n.hideButtons=!0,n.showImage=!1,oneButtonDialog(n)}function showErrorDialog(n){n.imageSource=n.baseUrl+"Content/Images/Error-XLarge.png";n.button3Text?threeButtonDialog(n):n.button2Text?twoButtonDialog(n):oneButtonDialog(n)}function showInformationDialog(n){n.imageSource=n.baseUrl+"Content/Images/Information-XLarge.png";n.button2Text?twoButtonDialog(n):oneButtonDialog(n)}function showNavigationDialog(n){n.imageSource=n.baseUrl+"Content/Images/Information-XLarge.png";n.button3Text?threeButtonDialog(n):n.button2Text?twoButtonDialog(n):oneButtonDialog(n)}function showWarningDialog(n){return n.imageSource=n.baseUrl+"Content/Images/Warning-XLarge.png",n.button2Text?twoButtonDialog(n):oneButtonDialog(n)}function showQuestionDialog(n){return n.imageSource=n.baseUrl+"Content/Images/Question-XLarge.png",n.button2Text?twoButtonDialog(n):oneButtonDialog(n)}function oneButtonDialog(n){var i=n.message&&n.message.indexOf("\n")>0?n.message.split("\n").join("<br />"):n.message,r=n&&n.imageSource?'<img src="'+n.imageSource+'" class="layout-margin-top-large layout-margin-left-large"/>':"",u=n&&n.bottomImageSource?'<img id="bottomImage" src="'+n.bottomImageSource+'" class="layout-margin-top-large"/>':"",t=$('<div class="modal" id="oneButtonDialog" role="dialog" data-backdrop="static" data-keyboard="false"><div class="dialog-vertical-align-center-parent"><div id="modalDialog" class="modal-dialog dialog-vertical-align-center"><div id="dialogContent" class="modal-content dialog-content"><div class="dialog-header"><h4 class="modal-title layout-margin-left-small">'+n.title+'<\/h4><\/div><div class="row"><div id="imageDiv" class="col-md-2">'+r+'<\/div><div id="messageDiv" class="col-md-10 dialog-text"><p id="messageText" class="layout-margin-top-medium layout-margin-right-medium layout-margin-left-large">'+i+'<\/p><\/div><\/div><div id="bottomImageDiv" class="row layout-text-align-center" style="display: none;">'+u+'<\/div><div class="row layout-margin-top-large layout-margin-bottom-large" style="text-align: center;"><button id="button1" type="button" value="'+n.button1Text+'" class="btn btn-success site-small-button layout-margin-right-small" data-dismiss="modal">'+n.button1Text+"<\/button><\/div><\/div><\/div><\/div><\/div>");return n&&n.hideButtons&&t.find("button").remove(),$("#oneButtonDialog").hasClass("in")&&t.modal("hide"),n&&n.setButtonAutoWidth&&t.find('input[type="button"]').addClass("dialog-auto-width"),n&&n.button1OnClickFunction&&t.find("#button1").click(n.button1OnClickFunction),n&&n.modalSize==="large"?t.find("#modalDialog").toggleClass("modal-lg"):n&&n.modalSize==="small"?t.find("#modalDialog").toggleClass("modal-sm"):n&&n.modalSize==="medium"?(t.find("#dialogContent").css("width","600px"),t.find("#modalDialog").css("width","600px")):(t.find("#dialogContent").css("width","400px"),t.find("#modalDialog").css("width","400px")),n&&n.showImage===!1&&(t.find("img").toggle(!1),t.find("#messageDiv").removeClass("col-md-10").addClass("col-md-12 layout-margin-left-medium")),n&&n.centerMessage===!0&&t.find("#messageDiv").removeClass("layout-margin-left-medium").addClass("layout-text-align-center"),n&&n.dismissOnButtonClick===!1&&t.find("#button1").removeAttr("data-dismiss"),n&&n.bottomImageSource&&(t.find("#bottomImageDiv").show(),t.find("#bottomImage").show()),t.modal("show"),loadingDialog.hideLoadingDialog(),t}function twoButtonDialog(n){var i=n.message&&n.message.indexOf("\n")>0?n.message.split("\n").join("<br />"):n.message,r=n&&n.button1StyleClass?n.button1StyleClass:"success",u=n&&n.button2StyleClass?n.button2StyleClass:"default",f=n&&n.imageSource?'<img src="'+n.imageSource+'" class="layout-margin-top-large layout-margin-left-large"/>':"",t=$('<div class="modal" id="twoButtonDialog" role="dialog" data-backdrop="static" data-keyboard="false"><div class="dialog-vertical-align-center-parent"><div id="modalDialog" class="modal-dialog dialog-vertical-align-center" ><div id="dialogContent" class="modal-content dialog-content"><div class="dialog-header"><h4 class="modal-title layout-margin-left-small">'+n.title+'<\/h4><\/div><div class="row"><div id="imageDiv" class="col-md-2">'+f+'<\/div><div id="messageDiv" class="col-md-10 dialog-text"><p id="messageText" class="layout-margin-top-medium layout-margin-right-medium layout-margin-left-large">'+i+'<\/p><\/div><\/div><div class="row layout-margin-top-large layout-margin-bottom-large" style="text-align: center;"><button id="button1" type="button" value="'+n.button1Text+'" class="btn btn-'+r+' site-small-button layout-margin-right-small">'+n.button1Text+'<\/button><button id="button2" type="button" value="'+n.button2Text+'" class="btn btn-'+u+' site-small-button layout-margin-right-small">'+n.button2Text+"<\/button><\/div><\/div><\/div><\/div><\/div>");return n&&n.hideButtons&&t.find('input[type="button"]').remove(),$("#twoButtonDialog").hasClass("in")&&t.modal("hide"),n&&n.setButtonAutoWidth&&t.find('input[type="button"]').addClass("dialog-auto-width"),n&&n.dismissOnButtonClick===!1||(t.find("#button1").click(function(){t.modal("hide")}),t.find("#button2").click(function(){t.modal("hide")})),n&&n.button1OnClickFunction&&t.find("#button1").click(n.button1OnClickFunction),n&&n.button2OnClickFunction&&t.find("#button2").click(n.button2OnClickFunction),n&&n.modalSize==="large"?t.find("#modalDialog").toggleClass("modal-lg"):n&&n.modalSize==="small"?t.find("#modalDialog").toggleClass("modal-sm"):n&&n.modalSize==="medium"?(t.find("#dialogContent").css("width","600px"),t.find("#modalDialog").css("width","600px")):(t.find("#dialogContent").css("width","400px"),t.find("#modalDialog").css("width","400px")),n&&n.showImage===!1&&(t.find("img").toggle(!1),t.find("#messageDiv").removeClass("col-md-10").addClass("col-md-12 layout-margin-left-medium")),t.modal("show"),loadingDialog.hideLoadingDialog(),t}function threeButtonDialog(n){var i=n&&n.button1StyleClass?n.button1StyleClass:"success",r=n&&n.button2StyleClass?n.button2StyleClass:"danger",u=n&&n.button3StyleClass?n.button3StyleClass:"default",t=$('<div class="modal" id="threeButtonDialog" role="dialog" data-backdrop="static" data-keyboard="false"><div class="dialog-vertical-align-center-parent"><div id="modalDialog" class="modal-dialog dialog-vertical-align-center" ><div id="dialogContent" class="modal-content dialog-content"><div class="dialog-header"><h4 class="modal-title layout-margin-left-small">'+n.title+'<\/h4><\/div><div class="row"><div id="imageDiv" class="col-md-2"><img src="'+n.imageSource+'" class="layout-margin-top-large layout-margin-left-large"/><\/div><div id="messageDiv" class="col-md-10 dialog-text"><p id="messageText" class="layout-margin-top-medium layout-margin-right-medium layout-margin-left-large">'+n.message+'<\/p><\/div><\/div><div class="row layout-margin-top-large layout-margin-bottom-large" style="text-align: center;"><button id="button1" type="button" value="'+n.button1Text+'" class="btn btn-'+i+' msi-small layout-margin-right-small" data-dismiss="modal">'+n.button1Text+'<\/button><button id="button2" type="button" value="'+n.button2Text+'" class="btn btn-'+r+' msi-small layout-margin-right-small" data-dismiss="modal">'+n.button2Text+'<\/button><button id="button3" type="button" value="'+n.button3Text+'" class="btn btn-'+u+' msi-small layout-margin-right-small" data-dismiss="modal">'+n.button3Text+"<\/button><\/div><\/div><\/div><\/div><\/div>");n&&n.hideButtons&&t.find('input[type="button"]').remove();$("#threeButtonDialog").hasClass("in")&&t.modal("hide");n&&n.setButtonAutoWidth&&t.find('input[type="button"]').addClass("dialog-auto-width");n&&n.button1OnClickFunction&&t.find("#button1").click(n.button1OnClickFunction);n&&n.button2OnClickFunction&&t.find("#button2").click(n.button2OnClickFunction);n&&n.button3OnClickFunction&&t.find("#button3").click(n.button3OnClickFunction);n&&n.modalSize==="large"?t.find("#modalDialog").toggleClass("modal-lg"):n&&n.modalSize==="small"?t.find("#modalDialog").toggleClass("modal-sm"):(t.find("#dialogContent").css("width","400px"),t.find("#modalDialog").css("width","400px"));n&&n.showImage===!1&&(t.find("img").toggle(!1),t.find("#messageDiv").removeClass("col-md-10").addClass("col-md-12 layout-margin-left-medium"));n&&n.dismissOnButtonClick===!1&&(t.find("#button1").removeAttr("data-dismiss"),t.find("#button2").removeAttr("data-dismiss"));t.modal("show");loadingDialog.hideLoadingDialog()}function showSettlementNotice(n,t,i,r){var f,u,o,e;$("#"+t).html("");f=i+"Content/Images/Warning-Alt-Large.png";u='<button class="close" aria-label="Close" type="button" data-dismiss="alert"><span aria-hidden="true">&times;<\/span><\/button>';r&&r.hideCloseButton===!0&&(u="");n&&n.indexOf("\n")>0?(o=n.split("\n").join("<br />"),e=$('<div class="alert alert-warning alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><table><tr><td><img class="layout-margin-right-small" src="'+f+'"><\/td><td width="100%"><strong>'+o+"<\/strong><\/td><td>"+u+"<\/td><\/tr><\/table><\/div>")):e=$('<div class="alert alert-warning alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><img src="'+f+'" class="layout-margin-right-small"/><strong>'+n+"<\/strong>"+u+"<\/div>");e.appendTo("#"+t)}function showSettlementError(n,t,i,r){showSettlementWarning(n,t,i,r)}function showSettlementTwoButtonWarning(n,t,i,r,u,f,e){$("#"+u).html("");let o,h=f+"Content/Images/Warning-Alt-Large.png",s='<button class="close" aria-label="Close" type="button" data-dismiss="alert"><span aria-hidden="true">&times;<\/span><\/button>';if(e&&e.hideCloseButton===!0&&(s=""),n&&n.indexOf("\n")>0){let t=n.split("\n").join("<br />");o=$('<div class="alert alert-danger alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><table><tr><td><img class="layout-margin-right-small" src="'+h+'"><\/td><td width="100%"><strong>'+t+"<\/strong><\/td><td>"+s+"<\/td><\/tr><\/table><\/div>")}else o=$('<div class="alert alert-danger alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><img src="'+h+'" class="layout-margin-right-small"/><strong>'+n+"<\/strong>"+i+"<strong>"+t+"<\/strong>"+r+s+"<\/div>");o.appendTo("#"+u)}function showSettlementWarning(n,t,i,r){var f,u,o,e;$("#"+t).html("");f=i+"Content/Images/Warning-Alt-Large.png";u='<button class="close" aria-label="Close" type="button" data-dismiss="alert"><span aria-hidden="true">&times;<\/span><\/button>';r&&r.hideCloseButton===!0&&(u="");n&&n.indexOf("\n")>0?(o=n.split("\n").join("<br />"),e=$('<div class="alert alert-danger alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><table><tr><td><img class="layout-margin-right-small" src="'+f+'"><\/td><td width="100%"><strong>'+o+"<\/strong><\/td><td>"+u+"<\/td><\/tr><\/table><\/div>")):e=$('<div class="alert alert-danger alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><img src="'+f+'" class="layout-margin-right-small"/><strong>'+n+"<\/strong>"+u+"<\/div>");e.appendTo("#"+t)}function showSettlementSuccess(n,t,i,r){var f,u,o,e;$("#"+t).html("");f=i+"Content/Images/Save-Large.png";u='<button class="close" aria-label="Close" type="button" data-dismiss="alert"><span aria-hidden="true">&times;<\/span><\/button>';r&&r.hideCloseButton===!0&&(u="");n&&n.indexOf("\n")>0?(o=n.split("\n").join("<br />"),e=$('<div class="alert alert-success alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><table><tr><td><img class="layout-margin-right-small" src="'+f+'"><\/td><td width="100%"><strong>'+o+"<\/strong><\/td><td>"+u+"<\/td><\/tr><\/table><\/div>")):e=$('<div class="alert alert-success alert-dismissible layout-margin-none layout-padding-top-small layout-padding-bottom-small dialog-border-radius" role="alert"><img src="'+f+'" class="layout-margin-right-small"/><strong>'+n+"<\/strong>"+u+"<\/div>");e.appendTo("#"+t)}function hideSettlementSuccess(n){hideSettlementWarning(n)}function hideSettlementNotice(n){hideSettlementWarning(n)}function hideSettlementError(n){hideSettlementWarning(n)}function hideSettlementWarning(n){$("#"+n).html("")}function displayLoading(n,t){var i=$(n);kendo.ui.progress(i,!0);typeof t=="undefined"&&setTimeout(function(){kendo.ui.progress(i,!1)},1e3)}function hideLoading(n){var t=$(n);kendo.ui.progress(t,!1)}function displayLoadingWithoutSpinner(n,t){var i=$(n);kendo.ui.progress(i,!0);typeof t=="undefined"&&setTimeout(function(){kendo.ui.progress(i,!1)},1e3);i.find("div.k-loading-image").hide()}function collapseAllGroups(n){n.table.find(".k-grouping-row").each(function(){n.collapseGroup(this)})}function isGridDirty(n){for(var u,i=n.data("kendoGrid"),r=!1,t=0;t<i.dataSource.data().length;t++)if(u=i.dataSource.data()[t],u.dirty===!0){r=!0;break}return r}function isItemDirty(n){return n.dirty===!0}function getColumnIndex(n,t){for(var u=n.data("kendoGrid"),r=u.columns,i=0;i<r.length;i++)if(r[i].field==t)return i;return-1}function getColumnIndexByTitle(n,t){for(var u=n.data("kendoGrid"),r=u.columns,i=0;i<r.length;i++)if(r[i].title==t)return i;return-1}function getCellIndexByHeaderName(n,t){for(var r,i=0;i<n.rows.length;i++)if(n.rows[i].type==="header")for(r=0;r<n.rows[i].cells.length;r++)if(n.rows[i].cells[r].value===t)return r;return-1}function validateCells(n){for(var f,i,t,u=n.tbody.find("tr"),r=0;r<u.length;r++)if(f=n.dataItem(u[r]),f&&f.isNew())for(i=$(u[r]).find("td"),t=0;t<i.length;t++)if(!$(i[t]).hasClass("k-group-cell")){if(n.editCell($(i[t])),n.editable&&!n.editable.end())return $(i[t]).find(".k-dropdown").css("border","2px solid red"),!1;n.closeCell()}return!0}function validateAllCells(n){for(var f,i,t,u=n.tbody.find("tr"),r=0;r<u.length;r++)if(f=n.dataItem(u[r]),f)for(i=$(u[r]).find("td"),t=0;t<i.length;t++)if(!$(i[t]).hasClass("k-group-cell")){if(n.editCell($(i[t])),n.editable&&!n.editable.end())return $(i[t]).find(".k-dropdown").css("border","2px solid red"),!1;n.closeCell()}return!0}function datePickerFilter(n){n.kendoDatePicker()}function onGridKeydown(n){var f,u,i,r,t;n.keyCode===kendo.keys.TAB&&(f=$(this).closest("[data-role=grid]").data("kendoGrid"),u=f.current(),!u.hasClass("editable-cell")&&u.parent().data("uid")&&(n.shiftKey?(t=u.prevAll(".editable-cell:visible"),t[0]||(i=u.parent().prev(),i.hasClass("k-grouping-row")&&(i=i.prev()),i.hasClass("k-group-footer")&&(i=i.prev()),t=i.children(".editable-cell:visible:last"))):(t=u.nextAll(".editable-cell:visible"),t[0]||(r=u.parent().next(),r.hasClass("k-group-footer")&&(r=r.next()),r.hasClass("k-grouping-row")&&(r=r.next()),t=r.children(".editable-cell:visible:first"))),f.current(t),f.editCell(t[0])))}function kendoFindRow(n,t){return n.tbody.find("tr[data-uid='"+t+"']")}function kendoFastRedrawRow(n,t){var o=n.dataItem(t),y=$(t).children('td[role="gridcell"]'),r,v,f,h,e,s,c;if(o!==null)for(r=0;r<n.columns.length;r++){var u=n.columns[r],l=u.template,a=y.eq(r),p=a.hasClass("k-dirty-cell")||o.dirtyFields[u.field],i;if(l!==undefined)v=kendo.template(l),i=v(o);else{if(f=o[u.field],f===null)continue;if(h=u.format,e=u.values,e!==undefined&&e!=null){for(s=0;s<e.length;s++)if(c=e[s],c.value==f){i=c.text;break}}else i=h!==undefined?kendo.format(h,f):f}i!==undefined&&(p&&(i='<span class="k-dirty"><\/span>'+i),a.html(i))}}function readjust_sidebar_height(){var u=$(window).height(),f=$("#sidebar-logo").height(),r=0,t,n,i;$("#divNightAuditMessageSidebar").is(":visible")&&(r=$("#divNightAuditMessageSidebar").height());t=0;$("#divJDARateCodeIssueMessageSidebar").is(":visible")&&(t=$("#divJDARateCodeIssueMessageSidebar").height());n=0;$("#sidebar-nav > ul > li:not(:first-child)").each(function(){n=n+$(this).height()});i=u-n-f-r-t-29;$("#sidebar-nav ul li:first").css("min-height",i);$("#sidebar-minimized-li").css("line-height",i+"px")}function parseJsonDate(n){return new Date(parseInt(n.replace("/Date(","")))}function correctJsonDates(n){return $.each(n,function(n,t){$.each(t,function(n,i){$.type(i)==="string"&&i.indexOf("/Date(")>=0&&(t[n]=parseJsonDate(i))})}),n}function isValidEmail(n){return n.search(/[^@]+@[^@]+\.[^@]+/)===-1?!1:!0}function stripOffTimeForDate(n){return n==null||!(n instanceof Date)?n:new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0)}function formatShortDate(n){return n==null||!(n instanceof Date)?"":n.getMonth()+"/"+n.getDate()+"/"+n.getFullYear()}function contains(n,t){for(var i=n.length;i--;)if(n[i]===t)return!0;return!1}function resetForm(n){n.find("input:text, input:password, input:file, select, textarea").val("");n.find("input:radio, input:checkbox").removeAttr("checked").removeAttr("selected")}function isInt(n){return!isNaN(n)&&parseInt(Number(n))==n&&!isNaN(parseInt(n,10))}function genericFunction(n){return n===undefined||n===null||n.length===0?undefined:[window].concat(n.split(".")).reduce(function(n,t){return n[t]})}function foundInArray(n,t,i){for(var r=0,u=n.length;r<u;r++)if(n[r]&&n[r][t]===i)return!0;return!1}function formatCurrency(n,t){if(t!==undefined&&t&&n===null)return"";return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}function parseCurrencyAsNumber(n){var u=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),t=u.format(1e4/3),f=t[0],e=t[2],o=t[6],i,r;return n=String(n),i=n.replace(f,"").replaceAll(e,"").replace(/[^\d.,-]/g,"").replace(o,"."),r=n.indexOf("(")===0,r?Number(-i):Number(i)}function formatPercentage(n){return n===0?0..toFixed(2):parseFloat(n).toFixed(2)+"%"}function parsePercentageAsNumber(n){var t=n.replace("%","");return Number(t)}function isNullOrEmpty(n){return n==null||n===""}function getAscendingCompareFunction(n){return function(t,i){return t[n]===i[n]?0:t[n]<i[n]?-1:1}}function validateEmail(n){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)?!0:!1}function validatePhone(n){var i=!1,t;return n.length>0&&(t=n.replace(" ","").replace("(","").replace(")","").replace("-","").replace(".",""),i=t.length===10&&$.isNumeric(t)),i}function isTrue(n){return n===!0||n==="true"||n==="True"||n==="TRUE"?!0:!1}function getTextWithMaxLength(n,t){return n.length>t?n.substring(0,t):n}function parseHolderName(n){var r="",u="",i="",t;if(!n)return{firstName:r,middleName:u,lastName:i};if(t=n.split(/[\s\/\\,]+/),n.indexOf("/")>0)switch(t.length){case 0:i="Unknown";break;case 1:i=t[0];break;case 2:r=t[1];i=t[0];break;case 3:r=t[1];u=t[2];i=t[0];break;case 4:default:r=t[2];u=t[3];i=t[0]}else switch(t.length){case 0:i="Unknown";break;case 1:i=t[0];break;case 2:r=t[0];i=t[1];break;case 3:default:r=t[0];u=t[1];i=t[2]}return{firstName:r,middleName:u,lastName:i}}function CheckFieldDataForCC(n){var t,r,i;try{return t="(((4|3)\\d{3})|(5[0-5]\\d{2})|(2[2-7]\\d{2})|(6011|(6[245]\\d{2})|(3[05689]\\d{2})))(-?|\\040?)(\\d{4}(-?|\\040?)){3}",t+="|",t+="(3[47]\\d{1})(-?|\\040?)(\\d{4}(-?|\\040?)){3}",t+="|",t+="(3[47]\\d{2})((-?|\\040?)\\d{4}(-?|\\040?)\\d{4}(-?|\\040?)\\d{3})",t+="|",t+="((3[47]\\d{2})((-?|\\040?)\\d{6}(-?|\\040?)\\d{5}))",t+="|",t+="(6011|(6[245]\\d{2})|(3[05689]\\d{2}))((-?|\\040?)\\d{4}(-?|\\040?)\\d{4}(-?|\\040?)\\d{2})",t+="|",t+="(4\\d{12})",r=new RegExp(t),i=!1,i=r.test(n),i||(i=CheckCCWithSpacers(n)),i}catch(u){return!1}}function AddChangedFlag(n){window.localStorage.setItem(n,"true")}function CheckCCWithSpacers(n){try{return/\d{4}([^\p{P}\d])+\d{4}([^\p{P}\d])+\d{4}([^\p{P}\d])+\d{4}/.test(n)}catch(t){return!1}}var autoLogoutModule=function(){function at(){try{return window.localStorage.setItem("LSAvail","yep"),window.localStorage.removeItem("LSAvail"),!0}catch(n){return!1}}function vt(n){if(n.key===l){var t=lt(n.newValue);t!==undefined&&t!==i.getTime()&&(i=new Date(t),(f||r)&&(et(),a()),h())}}function a(){if(o)o.on(it,ot)}function yt(){o&&o.off(it,ot)}function ut(){u&&(clearTimeout(u),u=undefined)}function ft(){c&&(clearTimeout(c),c=undefined)}function et(){f?(f.modal("hide"),f=undefined):r&&(document.getElementById("logoutWarningModal").style.display="none",r=!1)}function h(){ft();ut();t>5?c=setTimeout(wt,n*s):u=setTimeout(ht,t*s)}function ot(){h();st()}function st(){let n=new Date;(i===undefined||n-i>=s)&&(i=n,pt(i))}function pt(n){e?window.localStorage.setItem(l,n.getTime()):$.ajax({url:nt,cache:!1,method:"POST",dataType:"json",data:JSON.stringify({lastActivityDateTime:n.toISOString()}),contentType:"application/json; charset=utf-8",error:function(){window.location.href=y}})}function wt(){function o(i){if(n<i)if(yt(),ft(),u=setTimeout(ht,(t-n)*s),rt==="Reports"){document.getElementById("logoutWarningModal").style.display="block";document.getElementById("messageLogoutWarningModal").textContent=p.replace("{0}",n.toString()).replace("{1}",(t-n).toString());let i=document.getElementById("closeLogoutWarningModal");i.onclick=c;i.textContent=w;r=!0}else f=showWarningDialog({title:d,message:p.replace("{0}",n.toString()).replace("{1}",(t-n).toString()),button1Text:w,setButtonAutoWidth:!0,button1OnClickFunction:c,baseUrl:g});else h()}function c(){r&&(document.getElementById("logoutWarningModal").style.display="none",r=!1);a();ut()}var i;e?(i=v(ct()),o(i)):$.ajax({url:b,cache:!1,success:function(n){i=v(new Date(n.LastActivityDateTime));o(i)}})}function ht(){function n(n){t<n?window.location.href=y:(et(),a(),h())}if(e)try{var i=v(ct());n(i)}catch(r){}else $.ajax({url:b,cache:!1,success:function(t){var i=v(new Date(t.LastActivityDateTime));n(i)}})}function ct(){return lt(window.localStorage.getItem(l)||0)}function v(n){return(new Date-n)/s}function lt(n){return parseInt(n||0)}var k={},y,t,n,d,p,w,c,u,g,nt,b,i,f,e,tt,l,it="mousemove keydown click",o,s=6e4,rt="any",r=!1;return k.startTimer=function(i){$(function(){y=i.logoutUrl;t=i.idleMinutesBeforeLogout;n=i.idleMinutesBeforeWarning;d=i.logoutWarningTitle;p=i.logoutWarningMessage;w=i.okText;g=i.baseUrl;nt=i.updateLastActivityDateTimeUrl;b=i.getLastActivityDateTimeUrl;tt=i.myLSID;e=at();l=tt+"LastActivity";rt=i.module;o=$(document);st();h();a();e&&window.addEventListener("storage",vt)})},k}(),loadingDialog=loadingDialog||function(){var t=$('<div id="loadingDialog" class="modal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog"><div class="dialog-vertical-align-center-parent"><div class="modal-dialog modal-sm dialog-vertical-align-center" role="document"><div class="modal-content dialog-content" style="max-width: 300px;"><div class="modal-body text-center"><img id="loadingImage" src="" style="width: 100px; heigh:100px;"/><h4>Loading...<\/h4><\/div><\/div><\/div><\/div><\/div>'),n=null;return{showLoadingDialog:function(i){i===undefined&&(i=!0);var r=window.ROOT+"Content/Images/JonasAnimate.gif";t.find("img").attr("src",r);$("#loadingDialog").hasClass("in")||($("#loadingDialog").find("h4").text("Loading..."),t.modal("show"),i&&(n=setTimeout(function(){t.modal("hide");n=null},1e4)))},showProcessingDialog:function(i,r){r===undefined&&(r=!0);$("#loadingDialog").hasClass("in")||($("#loadingDialog").find("h4").text(i),t.modal("show"),r&&(n=setTimeout(function(){t.modal("hide");n=null},1e4)))},hideLoadingDialog:function(){n!=null&&(clearTimeout(n),n=null);t.modal("hide")},changeProcessingDialogMessage:function(n){$("#loadingDialog").find("h4").text(n)}}}(),offlineMonitoringModule,perfTrackingModule,constants,currencyFormatter,systemStatusMonitoringModule;$(document).ready(function(){var n;$(window.document).on("shown.bs.modal",".modal",function(){var r,i,t;$(document).off("focusin.modal");r=$(this);n=r.find('a[href], a[data-dismiss], area[href], input[type!="hidden"] , select, textarea, button, iframe, object, embed, *[tabindex], *[contenteditable]').sort(function(n,t){return n.tabIndex===t.tabIndex?0:n.tabIndex<t.tabIndex?-1:1});i=n.length;t=0;$(document.activeElement).blur();var u=function(){var i=n[t];i&&i.focus()},f=function(){return t--,t<0&&(t=i-1),u(),!1},e=function(){return t++,t>=i&&(t=0),u(),!1};$(document).on("keydown",function(n){n.keyCode===9&&n.shiftKey?(n.preventDefault(),f()):n.keyCode===9&&(n.preventDefault(),e())});n.on("focus.msicustomtabbing",function(i){for(var r=0;r<n.length;r++)if(i.target===n[r]){t=r;break}});$(".btn.btn-success").prop("disabled")||$(".btn.btn-success").focus()});$(window.document).on("hidden.bs.modal",".modal",function(){$(document).unbind("keydown");n.off(".msicustomtabbing")})});offlineMonitoringModule=function(){function it(){var h=!0,o,c;try{r&&u.length>0&&(o=window.localStorage.getItem(u+"_LastPingMilli"),o!=null&&(c=Date.now(),c-o+100<f&&(h=!1)))}catch(l){}h&&$.ajax({url:v+"&serviceUrl="+encodeURIComponent(g)+"&isOfflineInstance="+t+"&offlineOnlineCheckUrl="+encodeURIComponent(s),timeout:a,cache:!1,success:function(f){t?f.toUpperCase()=="PINGED"&&ut():f.toUpperCase()=="PINGED"?(i&&rt(),n=0):(n=n+1,n>=e&&nt());try{r&&window.localStorage.setItem(u+"_LastPingMilli",JSON.stringify(Date.now()))}catch(o){}},error:function(){d||t||(n=n+1,n>=e&&nt())}})}function nt(){$(".modal").modal("hide");showNoButtonDialog({title:y,message:'<h1 style="color: red;text-align: center;">'+p+"<\/h1>",hideButtons:!0,modalSize:"large",showImage:!1});o.toLowerCase().indexOf("http")==0&&i==!1&&(tt=window.open(o,"_blank"),i=!0)}function rt(){i=!1;$(".modal").modal("hide");window.location.href=h}function ut(){$(".modal").modal("hide");showDialog({title:w,message:'<h1 style="color: blue;text-align: center;">'+b+"<\/h1>",button1Text:k,modalSize:"large",dismissOnButtonClick:!1,button1OnClickFunction:function(){window.close();window.closed||(window.location.href=h)}})}var c={},t,l,f,e,a,o,s,v,h,y,p,w,b,k,tt,i=!1,n=0,d=!1,g,r=!1,u="";return c.startMonitoring=function(n){if(t=n.isOfflineInstance,l=n.enableOfflineCheck,f=n.intervalFrequency,e=n.failsBeforeOffline,a=n.offlineTimeout,o=n.offlineUrl,s=n.offlineOnlineCheckUrl,v=n.pingServiceUrl,h=n.logoutUrl,y=n.offlineWarningTitle,p=n.offlineWarningMessage,w=n.onlineWarningTitle,b=n.onlineWarningMessage,k=n.okText,g=n.serviceUrl,u=n.myLSID,l){try{window.localStorage.setItem("TestJCPM","JCPMS is here");r=!0;window.localStorage.removeItem("TestJCPM")}catch(i){r=!1}if(!t||t&&s.toLowerCase().indexOf("http")==0){var c=setInterval(it,f);$(window).on("beforeunload",function(){d=!0})}}},c}();perfTrackingModule=function(){function t(){var n=new Date;return 621355968000000000+n.getTime()*1e4}var n={};return n.addTranStart=function(n,i,r){try{var u=uuidv4(),f={TranId:u,HotelCode:n,Category:i,Operation:r,Ticks:t(),IsTranStop:!1,IsOperationStart:!1,IsOperationStop:!1,IsSingleton:!1,IsTranStart:!0};return localStorage.setItem("perfItem_"+uuidv4(),JSON.stringify(f)),u}catch(e){return constants.emptyGuid}},n.addTranStop=function(n,i,r,u){try{var f={TranId:n,HotelCode:i,Category:r,Operation:u,Ticks:t(),IsTranStop:!0,IsOperationStart:!1,IsOperationStop:!1,IsSingleton:!1,IsTranStart:!1};localStorage.setItem("perfItem_"+uuidv4(),JSON.stringify(f))}catch(e){}},n.addOperationStart=function(n,i,r,u){try{var f={TranId:n,HotelCode:i,Category:r,Operation:u,Ticks:t(),IsTranStop:!1,IsOperationStart:!0,IsOperationStop:!1,IsSingleton:!1,IsTranStart:!1};localStorage.setItem("perfItem_"+uuidv4(),JSON.stringify(f))}catch(e){}},n.addOperationStop=function(n,i,r,u){try{var f={TranId:n,HotelCode:i,Category:r,Operation:u,Ticks:t(),IsTranStop:!1,IsOperationStart:!1,IsOperationStop:!0,IsSingleton:!1,IsTranStart:!1};localStorage.setItem("perfItem_"+uuidv4(),JSON.stringify(f))}catch(e){}},n.getPerfItems=function(){var t,n,i;try{for(t=[],n=0;n<localStorage.length;n++)i=localStorage.key(n),i.indexOf("perfItem_")===0&&t.push(JSON.parse(localStorage[i]));return t}catch(r){return[]}},n.clearPerfItems=function(){var n,t,r,i;try{for(n=[],t=0;t<localStorage.length;t++)r=localStorage.key(t),r.indexOf("perfItem_")===0&&n.push(r);for(i=0;i<n.length;i++)localStorage.removeItem(n[i])}catch(u){}},n}();Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(n){var i,r,u,t,f;if(this==null)throw new TypeError('"this" is null or not defined');if(i=Object(this),r=i.length>>>0,typeof n!="function")throw new TypeError("predicate must be a function");for(u=arguments[1],t=0;t<r;){if(f=i[t],n.call(u,f,t,i))return t;t++}return-1},configurable:!0,writable:!0});Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(n){var i,u,f,t,r;if(this==null)throw new TypeError('"this" is null or not defined');if(i=Object(this),u=i.length>>>0,typeof n!="function")throw new TypeError("predicate must be a function");for(f=arguments[1],t=0;t<u;){if(r=i[t],n.call(f,r,t,i))return r;t++}return undefined},configurable:!0,writable:!0});Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(n,t){function e(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)}var f,i,r,u;if(this==null)throw new TypeError('"this" is null or not defined');if(f=Object(this),i=f.length>>>0,i===0)return!1;for(r=t|0,u=Math.max(r>=0?r:i-Math.abs(r),0);u<i;){if(e(f[u],n))return!0;u++}return!1}});$(function(){$("button[name=toggle-ribbon]").hide()});$(document).ready(function(){$("#menu-button, #menu-button-2").click(function(){var n,t,i;$("#wrapper").toggleClass("toggled");$("#sidebar-minimized-content").toggle(300);$("#sidebar-logo").toggle(300);$("#sidebar-brand").toggle(300);n=$("#sidebar-nav > ul > li:first").children();$("#sidebar-nav > ul > li:first").popover("destroy");$("#wrapper").hasClass("toggled")&&(t=n.not("a.inactive-link").clone(!0),$("#sidebar-nav > ul > li:first").popover({html:!0,content:t,container:"body"}),$('<div id="sidebar-minimized-li" style="text-align: center; transform: rotate(270deg);">Folders<\/div>').prependTo($("#sidebar-nav > ul > li:first")),i=$("#sidebar-nav > ul > li:first").height()+($("#sidebar-wrapper").height()-$("#sidebar-nav > ul").height())-5,$("#sidebar-minimized-li").css("line-height",i+"px"));$("#wrapper").hasClass("toggled")||$("#sidebar-minimized-li").remove();n.toggle(300);$.event.trigger({type:"sidebar-clicked"})});$("#sidebar-menu-button, #sidebar-menu-button-2").click(function(){$("#wrapper").toggleClass("toggled");$("#sidebar-minimized-content").toggle(300);$("#sidebar-brand").toggle(300);$.event.trigger({type:"sidebar-clicked"})});$("a.tree-toggler, label.tree-toggler").click(function(){$(this).parent().children("ul.tree").toggle(300);$(this).find("img").toggle(300)});readjust_sidebar_height();$(window).resize(function(){readjust_sidebar_height()})});$(document).ready(function(){setTimeout(function(){$('form :input[value=""]:enabled:visible:not([readonly]), form :input:enabled:visible:not([readonly]):not([value])').first().focus()},1)});$(document).ready(function(){$.extend({getUrlVars:function(){for(var t=[],n,r=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<r.length;i++)n=r[i].split("="),t.push(n[0]),t[n[0]]=n[1];return t},getUrlVar:function(n){return $.getUrlVars()[n]}})});constants={};constants.emptyGuid="00000000-0000-0000-0000-000000000000";currencyFormatter=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});String.prototype.replaceAll=function(n,t){var i=this;return i.split(n).join(t)},function(n){n.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()}}(jQuery);systemStatusMonitoringModule=function(){function k(){var p=!0,k;try{if(n.length>0){var w=window.localStorage.getItem(n+"_LastSystemStatusMilli"),b=window.localStorage.getItem(n+"_LastSystemStatusData"),i=JSON.parse(b);w!=null&&b!=null&&(k=Date.now(),k-w+5e3<6e4&&(p=!1,i.AutomatedAuditFailed?($("#divNightAuditMessage").toggleClass("row site-alert-audit-failed",!0).html("<strong>"+r.replace("{0}",i.BusinessDate)+"<\/strong>").prepend('<img src="'+t+'" />&nbsp;&nbsp;').append('&nbsp;&nbsp;<img src="'+u+'" />&nbsp;&nbsp;').append('<a href="'+f+'" target="_blank"><img src="'+e+'" /><\/a>').toggle(!0),$("#divNightAuditMessageSidebar").toggleClass("site-alert-audit-failed",!0).toggle(!0)):i.AuditIsCurrentlyRunning?($("#divNightAuditMessage").toggleClass("row site-alert-audit-running",!0).html("<strong>"+s+"<\/strong>").prepend('<img src="'+o+'" />&nbsp;&nbsp;').toggle(!0),$("#divNightAuditMessageSidebar").toggleClass("site-alert-audit-running",!0).toggle(!0)):($("#divNightAuditMessage").toggle(!1),$("#divNightAuditMessageSidebar").toggle(!1)),i.JDARateCodeIssueDetected?($("#divJDARateCodeIssueMessage").toggleClass("row site-alert-jda-issue",!0).html("<strong>"+h+"<\/strong>").prepend('<img src="'+t+'" />&nbsp;&nbsp;').append('&nbsp;&nbsp;<button class="btn btn-default btn-xs" onclick="systemStatusMonitoringModule.showJDARateCodeIssueDialog()">'+c+"<\/button>").toggle(!0),$("#divJDARateCodeIssueMessageSidebar").toggleClass("site-alert-jda-issue",!0).toggle(!0)):($("#divJDARateCodeIssueMessage").toggle(!1),$("#divJDARateCodeIssueMessageSidebar").toggle(!1)),!i.AuditIsCurrentlyRunning&&i.BusinessDateChangeDetected&&window.showDialog({modalSize:"small",centerMessage:!0,title:l,message:a,button1Text:v}),readjust_sidebar_height()))}}catch(d){}p&&$.ajax({url:y,cache:!1,method:"POST",dataType:"json",data:JSON.stringify({perfItems:perfTrackingModule.getPerfItems()}),contentType:"application/json; charset=utf-8",success:function(i){try{window.localStorage.setItem(n+"_LastSystemStatusMilli",JSON.stringify(Date.now()));window.localStorage.setItem(n+"_LastSystemStatusData",JSON.stringify(i))}catch(y){}i.AutomatedAuditFailed?($("#divNightAuditMessage").toggleClass("row site-alert-audit-failed",!0).html("<strong>"+r.replace("{0}",i.BusinessDate)+"<\/strong>").prepend('<img src="'+t+'" />&nbsp;&nbsp;').append('&nbsp;&nbsp;<img src="'+u+'" />&nbsp;&nbsp;').append('<a href="'+f+'" target="_blank"><img src="'+e+'" /><\/a>').toggle(!0),$("#divNightAuditMessageSidebar").toggleClass("site-alert-audit-failed",!0).toggle(!0)):i.AuditIsCurrentlyRunning?($("#divNightAuditMessage").toggleClass("row site-alert-audit-running",!0).html("<strong>"+s+"<\/strong>").prepend('<img src="'+o+'" />&nbsp;&nbsp;').toggle(!0),$("#divNightAuditMessageSidebar").toggleClass("site-alert-audit-running",!0).toggle(!0)):($("#divNightAuditMessage").toggle(!1),$("#divNightAuditMessageSidebar").toggle(!1));i.JDARateCodeIssueDetected?($("#divJDARateCodeIssueMessage").toggleClass("row site-alert-jda-issue",!0).html("<strong>"+h+"<\/strong>").prepend('<img src="'+t+'" />&nbsp;&nbsp;').append('&nbsp;&nbsp;<button class="btn btn-default btn-xs" onclick="systemStatusMonitoringModule.showJDARateCodeIssueDialog()">'+c+"<\/button>").toggle(!0),$("#divJDARateCodeIssueMessageSidebar").toggleClass("site-alert-jda-issue",!0).toggle(!0)):($("#divJDARateCodeIssueMessage").toggle(!1),$("#divJDARateCodeIssueMessageSidebar").toggle(!1));!i.AuditIsCurrentlyRunning&&i.BusinessDateChangeDetected&&window.showDialog({modalSize:"small",centerMessage:!0,title:l,message:a,button1Text:v});i.IsPerfItemsDumped&&perfTrackingModule.clearPerfItems();readjust_sidebar_height()},error:function(){}})}var i={},y,t,r,u,f,e,o,s,h,c,p,w,b,l,a,v,n="";return i.startMonitoring=function(i){y=i.systemStatusUrl;t=i.auditFailedIconUrl;r=i.auditFailedMessage;u=i.auditFailedArrowIconUrl;f=i.auditFailedReportUrl;e=i.auditFailedDocIconUrl;o=i.auditRunningIconUrl;s=i.auditRunningMessage;h=i.JDARateCodeIssueMessage;c=i.JDARateCodeIssueButtonMessage;p=i.JDARateCodeIssueDialogTitle;w=i.JDARateCodeIssueDialogMessage;b=i.JDARateCodeIssueDialogOkButtonText;l=i.BusinessDateChangeDialogTitle;a=i.BusinessDateChangeDialogMessage;v=i.BusinessDateChangeDialogOkButtonText;n=i.myLSID;k();var d=setInterval(k,3e5)},i.showJDARateCodeIssueDialog=function(){window.showDialog({modalSize:"large",centerMessage:!0,title:p,message:w,button1Text:b})},i}(),function(n){n.validator.unobtrusive.adapters.add("currencyformat",["minvalue","maxvalue"],function(n){n.rules.currencyformat=n.params;n.messages.currencyformat=n.message});n.validator.addMethod("currencyformat",function(n,t,i){var r;if(!this.optional(t)){if(r=/^\$?0$|^\$?(?=.{1,21}(\.|$))(?!0(?!\.))\d{1,3}(,?\d{3})*(\.\d{1,2})?$/.test(n),r){var f=n.replace("$","").replace(",","").replace(/[^\d.,-]/g,"").replace(".","."),u=Number(f),e=isNaN(i.minvalue)||i.minvalue==null?Number.MIN_VALUE:i.minvalue,o=isNaN(i.maxvalue)||i.maxvalue==null?Number.MAX_VALUE:i.maxvalue;return u>=e&&u<=o}return!1}return!0})}(jQuery),function(n){n.validator.unobtrusive.adapters.add("currencyformatrequiredif",["minvalue","maxvalue","dependentproperty","desiredvalue"],function(n){n.rules.currencyformatrequiredif=n.params;n.messages.currencyformatrequiredif=n.message});n.validator.addMethod("currencyformatrequiredif",function(t,i,r){var e,u,o,f,s,h;if(!this.optional(i)){if(e=!1,u=r.desiredvalue,u=(u==null?"":u).toString(),o=n("input[id$='"+r.dependentproperty+"']").attr("type"),f={},o=="checkbox"||o=="radio"?(s=n("input[id$='"+r.dependentproperty+"']:checked"),f=s.val()):f=n("#"+r.dependentproperty).val(),n.trim(u).toLowerCase()===n.trim(f).toLocaleLowerCase()&&(e=!0),t.indexOf(".")==0&&(t="0"+t),h=/^\$?0$|^\$?(?=.{1,21}(\.|$))(?!0(?!\.))\d{1,3}(,?\d{3})*(\.\d{1,2})?$/.test(t),e&&h){var l=t.replace("$","").replace(",","").replace(/[^\d.,-]/g,"").replace(".","."),c=Number(l),a=isNaN(r.minvalue)||r.minvalue==null?Number.MIN_VALUE:r.minvalue,v=isNaN(r.maxvalue)||r.maxvalue==null?Number.MAX_VALUE:r.maxvalue;return c>=a&&c<=v}return!1}return!0})}(jQuery),function(n){n.validator.unobtrusive.adapters.add("percentageformat",["minvalue","maxvalue"],function(n){n.rules.percentageformat=n.params;n.messages.percentageformat=n.message});n.validator.addMethod("percentageformat",function(n,t,i){var u;if(!this.optional(t)){if(u=/^0\s*%?$|^(?=.{1,21}(\.|$))(?!0(?!\.))\d{1,3}(,?\d{3})*(\.\d{1,2})?\s*%?$/.test(n),u){var e=new Intl.NumberFormat("en-US",{style:"percent",maximumFractionDigits:"2"}),r=e.format(12.3456789),o=r[r.length-1],s=r[1],h=r[5],c=n.replace(o,"").replace(s,"").replace(/[^\d.,-]/g,"").replace(h,".").replace(" ","."),f=Number(c),l=isNaN(i.minvalue)||i.minvalue==null?Number.MIN_VALUE:i.minvalue,a=isNaN(i.maxvalue)||i.maxvalue==null?Number.MAX_VALUE:i.maxvalue;return f>=l&&f<=a}return!1}return!0})}(jQuery),function(n){n.validator.unobtrusive.adapters.add("beforeenddate",["enddateproperty","momentjsparseformat"],function(n){n.rules.beforeenddate=n.params;n.messages.beforeenddate=n.message});n.validator.addMethod("beforeenddate",function(t,i,r){if(!this.optional(i)){var f=moment(t,r.momentjsparseformat),u;return u=n("#"+r.enddateproperty).length?moment(n("#"+r.enddateproperty).val(),r.momentjsparseformat):moment(n("[id$="+r.enddateproperty+"]").val(),r.momentjsparseformat),f.isSameOrBefore(u)}return!0})}(jQuery),function(n){n.validator.unobtrusive.adapters.add("afterstartdate",["startdateproperty","momentjsparseformat"],function(n){n.rules.afterstartdate=n.params;n.messages.afterstartdate=n.message});n.validator.addMethod("afterstartdate",function(t,i,r){if(!this.optional(i)){var u,f=moment(t,r.momentjsparseformat);return u=n("#"+r.startdateproperty).length?moment(n("#"+r.startdateproperty).val(),r.momentjsparseformat):moment(n("[id$="+r.startdateproperty+"]").val(),r.momentjsparseformat),f.isSameOrAfter(u)}return!0})}(jQuery),function(n){n.validator.addMethod("guidrequired",function(n,t){return this.optional(t)?!0:n!==constants.emptyGuid});n.validator.unobtrusive.adapters.addBool("guidrequired")}(jQuery),function(n){n.validator.unobtrusive.adapters.add("requiredif",["dependentproperty","desiredvalue"],function(n){n.rules.requiredif=n.params;n.messages.requiredif=n.message});n.validator.addMethod("requiredif",function(t,i,r){var u=r.desiredvalue,e,f,o;return(u=(u==null?"":u).toString(),e=n("input[id$='"+r.dependentproperty+"']").attr("type"),f={},e=="checkbox"||e=="radio"?(o=n("input[id$='"+r.dependentproperty+"']:checked"),f=o.val()):f=n("#"+r.dependentproperty).val(),n.trim(u).toLowerCase()===n.trim(f).toLocaleLowerCase())?n.validator.methods.required.call(this,t,i,r):!0})}(jQuery),function(n){n.validator.unobtrusive.adapters.add("requiredifcontainswithcustomjs",["isvalidjsfunctionname","desiredvalue"],function(n){n.rules.requiredifcontainswithcustomjs=n.params;n.messages.requiredifcontainswithcustomjs=n.message});n.validator.addMethod("requiredifcontainswithcustomjs",function(n,t,i){var r=i.isvalidjsfunctionname;return r!==""?window[r](i.desiredvalue):!0})}(jQuery),function(n){n.validator.unobtrusive.adapters.add("greaterthanorequalto",["dependentproperty"],function(n){n.rules.greaterthanorequalto=n.params;n.messages.greaterthanorequalto=n.message});n.validator.addMethod("greaterthanorequalto",function(t,i,r){if(!this.optional(i)){var u=parseCurrencyAsNumber(t),f=parseCurrencyAsNumber(n("#"+r.dependentproperty).val());return isNaN(u)||isNaN(f)?!1:u>=f}return!0})}(jQuery),function(n){n.validator.unobtrusive.adapters.add("greaterthanorequaltoignorenull",["dependentproperty"],function(n){n.rules.greaterthanorequaltoignorenull=n.params;n.messages.greaterthanorequaltoignorenull=n.message});n.validator.addMethod("greaterthanorequaltoignorenull",function(t,i,r){if(!this.optional(i)){var u=parseCurrencyAsNumber(t),f=parseCurrencyAsNumber(n("#"+r.dependentproperty).val());return isNaN(u)||isNaN(f)?!1:u>=f}return!0})}(jQuery)