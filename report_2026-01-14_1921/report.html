
    <!doctype html>
    <html>
    <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>Operations Report — Housekeeping + Room Usage</title>
      <style>
:root{
  --bg:#0b0f14;
  --card:#121826;
  --card2:#0f1522;
  --text:#e6edf3;
  --muted:#9aa4b2;
  --line:rgba(230,237,243,.12);
  --accent:#7aa2f7;
  --good:#7ee787;
  --warn:#f2cc60;
}

*{ box-sizing:border-box; }

body{
  background:var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
  margin:0;
  padding:28px;
  line-height:1.45;
}

.wrap{ max-width:1220px; margin:0 auto; }

h1{
  margin:0 0 6px;
  font-size:30px;
  letter-spacing:.2px;
}
h2{
  margin:34px 0 8px;
  font-size:22px;
}
h3{
  margin:20px 0 10px;
  font-size:15px;
  color:var(--accent);
  text-transform:uppercase;
  letter-spacing:.08em;
}

.sub{
  color:var(--muted);
  margin-bottom:18px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
}

.grid{
  display:grid;
  gap:16px;
  grid-template-columns:repeat(12, 1fr);
  align-items:start;
}

/* IMPORTANT: cards should be normal block flow, not flex */
.card{
  display:flex;
  flex-direction: column;
  gap: 12px;         /* <- gives you the breathing room you want */
  padding: 16px;
}

.stack{
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.card.soft{
  background:linear-gradient(180deg, rgba(122,162,247,.10), rgba(18,24,38,0) 60%), var(--card);
}

.span-12{ grid-column:span 12; }
.span-8{ grid-column:span 8; }
.span-6{ grid-column:span 6; }
.span-4{ grid-column:span 4; }

.muted{ color:var(--muted); }
.caption{
  font-weight:650;
  margin:0 0 10px;
  font-size:14px;
}
p{ margin:0 0 10px; }
ul{ margin:8px 0 0 18px; }
li{ margin:6px 0; }

.pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(122,162,247,.10);
  color:var(--text);
  font-size:12px;
}

/* KPI cards */
.kpi-wrap{
  display:grid;
  grid-template-columns:repeat(12,1fr);
  gap:16px;
}
.kpi-card{
  grid-column:span 4;
  background:var(--card2);
  border:1px solid var(--line);
  border-radius:18px;
  padding:14px 14px 12px;
  min-height:92px;
}
.kpi-label{
  color:var(--muted);
  font-size:12px;
  margin-bottom:6px;
}
.kpi{
  font-size:26px;
  font-weight:800;
  letter-spacing:.2px;
}

/* Tables */
.table-wrap{
  overflow:auto;
  border-radius:14px;
  border:1px solid var(--line);
}
table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  font-size:13px;
  background:rgba(0,0,0,.08);
}
th, td{
  padding:10px 12px;
  border-bottom:1px solid var(--line);
  text-align:left;
  vertical-align:top;
  white-space:nowrap;
}
td{ white-space:normal; }
th{
  position:sticky;
  top:0;
  z-index:1;
  background:rgba(18,24,38,.92);
  backdrop-filter:blur(8px);
  font-weight:650;
}
tbody tr:nth-child(odd){ background:rgba(255,255,255,.02); }
tbody tr:hover{ background:rgba(122,162,247,.08); }

/* Images / charts */
img{
  width:100%;
  height:auto;
  border-radius:14px;
  border:1px solid var(--line);
  background:#0b0f14;
  display:block;
}

/* Section divider */
.hr{
  height:1px;
  background:var(--line);
  margin:24px 0;
}

/* Mobile */
@media (max-width: 920px){
  body{ padding:14px; }
  .span-6,.span-4,.span-8{ grid-column:span 12; }
  .kpi-card{ grid-column:span 12; }
  th, td{ white-space:normal; }
}
</style>
    </head>
    <body>
      <div class="wrap">
        <h1>Operations Report — Housekeeping + Room Usage</h1>
        <div class="sub">Generated 2026-01-14 19:21:37 • Folder: <span class="pill">report_2026-01-14_1921</span></div>

        <div class="card soft">
          <div class="caption">What this report is</div>
          <div class="muted">
            A clean snapshot of housekeeping status changes and room usage.
            It focuses on volume, real changes (Before ≠ After), who closed work, and what room types/features are getting used.
          </div>
        </div>

        <h2>Housekeeping Change Log</h2>
        <h3>KPIs</h3>
        <div class='kpi-wrap'>
            <div class="kpi-card">
            <div class="kpi-label">Total rows</div>
            <div class="kpi">692.0</div>
            </div>
            

            <div class="kpi-card">
            <div class="kpi-label">Unique rooms</div>
            <div class="kpi">50.0</div>
            </div>
            

            <div class="kpi-card">
            <div class="kpi-label">HSK status changes (count)</div>
            <div class="kpi">393.0</div>
            </div>
            

            <div class="kpi-card">
            <div class="kpi-label">HSK status changes (rate)</div>
            <div class="kpi">0.5679</div>
            </div>
            

            <div class="kpi-card">
            <div class="kpi-label">Date parse success rate</div>
            <div class="kpi">0.0</div>
            </div>
            </div>

        <div class="card">
          <div class="caption">Executive notes</div>
          <ul><li>393 of 692 log entries changed HSK status (56.8%).</li>
<li>Most changed Room Type: Classc (336 changes).</li>
<li>Most closures by Housekeeper After:  (164 changes).</li>
<li>⚠ Date parsing success was 0.0%. If charts look off, the Date column format is inconsistent.</li></ul>
        </div>

        <h3>Charts</h3>
        <div class='grid'><div class='span-6'>
    <div class="card">
      <div class='caption'>Top 10 Housekeepers (by changes, After)</div>
      <img src="top_housekeepers_after.png" alt="Top 10 Housekeepers (by changes, After)">
    </div>
    </div>
<div class='span-6'>
    <div class="card">
      <div class='caption'>HSK Status Transition Matrix (Before → After)</div>
      <img src="hsk_transition_heatmap.png" alt="HSK Status Transition Matrix (Before → After)">
    </div>
    </div></div>

        <h3>Summaries</h3>
        <div class="grid stack">
          <div class="card span-12">
            <div class="caption">By day</div>
            <p class='muted'>No data available.</p>
          </div>
          <div class="card span-12">
            <div class="caption">By room type</div>
            
    <div class="table-wrap">
      <table>
        <thead><tr><th>Room Type</th><th>rows</th><th>unique_rooms</th><th>changed</th><th>change_rate</th></tr></thead>
        <tbody><tr><td>Classc</td><td>592</td><td>44</td><td>336</td><td>0.5676</td></tr><tr><td>Deluxe</td><td>81</td><td>4</td><td>47</td><td>0.5802</td></tr><tr><td>Suite</td><td>19</td><td>2</td><td>10</td><td>0.5263</td></tr></tbody>
      </table>
      
    </div>
    
          </div>
          <div class="card span-12">
            <div class="caption">By housekeeper (After)</div>
            
    <div class="table-wrap">
      <table>
        <thead><tr><th>Housekeeper After</th><th>rows</th><th>changed</th><th>unique_rooms</th><th>change_rate</th></tr></thead>
        <tbody><tr><td></td><td>320</td><td>164</td><td>50</td><td>0.5125</td></tr><tr><td>Dixie Collins</td><td>87</td><td>57</td><td>19</td><td>0.6552</td></tr><tr><td>Felicity Arnold</td><td>73</td><td>46</td><td>17</td><td>0.6301</td></tr><tr><td>Kaylee Thomsen</td><td>68</td><td>38</td><td>16</td><td>0.5588</td></tr><tr><td>Kyra Christiansen</td><td>44</td><td>26</td><td>10</td><td>0.5909</td></tr><tr><td>Jesse Rowles</td><td>34</td><td>20</td><td>10</td><td>0.5882</td></tr><tr><td>Emery Rowles</td><td>31</td><td>20</td><td>9</td><td>0.6452</td></tr><tr><td>Ben Weaver</td><td>27</td><td>18</td><td>7</td><td>0.6667</td></tr><tr><td>Rylee Call</td><td>8</td><td>4</td><td>2</td><td>0.5</td></tr></tbody>
      </table>
      
    </div>
    
          </div>
          <div class="card span-12">
            <div class="caption">By username</div>
            
    <div class="table-wrap">
      <table>
        <thead><tr><th>Username</th><th>rows</th><th>changed</th><th>unique_rooms</th><th>change_rate</th></tr></thead>
        <tbody><tr><td>CyndiC</td><td>146</td><td>67</td><td>41</td><td>0.4589</td></tr><tr><td>ChorumPMS</td><td>109</td><td>106</td><td>44</td><td>0.9725</td></tr><tr><td>Administrator</td><td>109</td><td>0</td><td>44</td><td>0.0</td></tr><tr><td>NachelleW</td><td>68</td><td>34</td><td>24</td><td>0.5</td></tr><tr><td>BethanyP</td><td>33</td><td>10</td><td>22</td><td>0.303</td></tr><tr><td>TammyW</td><td>33</td><td>8</td><td>23</td><td>0.2424</td></tr><tr><td>CameronS</td><td>30</td><td>30</td><td>21</td><td>1.0</td></tr><tr><td>MasonR</td><td>25</td><td>11</td><td>17</td><td>0.44</td></tr><tr><td>DixieC</td><td>24</td><td>24</td><td>19</td><td>1.0</td></tr><tr><td>CarterJ</td><td>23</td><td>22</td><td>21</td><td>0.9565</td></tr><tr><td>KayleeT</td><td>19</td><td>19</td><td>16</td><td>1.0</td></tr><tr><td>FelicityA</td><td>15</td><td>15</td><td>12</td><td>1.0</td></tr><tr><td>KyraC</td><td>11</td><td>11</td><td>10</td><td>1.0</td></tr><tr><td>EmeryR</td><td>10</td><td>10</td><td>9</td><td>1.0</td></tr><tr><td>JesseR</td><td>9</td><td>9</td><td>9</td><td>1.0</td></tr><tr><td>BenW</td><td>7</td><td>7</td><td>7</td><td>1.0</td></tr><tr><td>JustinM</td><td>6</td><td>0</td><td>5</td><td>0.0</td></tr><tr><td>MckenzieS</td><td>3</td><td>3</td><td>3</td><td>1.0</td></tr><tr><td>ChiaraM</td><td>3</td><td>2</td><td>2</td><td>0.6667</td></tr><tr><td>HelerP</td><td>3</td><td>2</td><td>3</td><td>0.6667</td></tr><tr><td>RyleeC</td><td>2</td><td>2</td><td>2</td><td>1.0</td></tr><tr><td>TylerE</td><td>2</td><td>1</td><td>2</td><td>0.5</td></tr><tr><td>SydneyA</td><td>2</td><td>0</td><td>2</td><td>0.0</td></tr></tbody>
      </table>
      
    </div>
    
          </div>
          <div class="card span-12">
            <div class="caption">HSK transition matrix (Before → After)</div>
            
    <div class="table-wrap">
      <table>
        <thead><tr><th>HSK Status Before</th><th></th><th>Clean/Occupied</th><th>Clean/Vacant</th><th>Dirty</th><th>inspect</th></tr></thead>
        <tbody><tr><td></td><td>4</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>Clean/Occupied</td><td>0</td><td>0</td><td>1</td><td>107</td><td>1</td></tr><tr><td>Clean/Vacant</td><td>0</td><td>82</td><td>70</td><td>3</td><td>0</td></tr><tr><td>Dirty</td><td>0</td><td>24</td><td>6</td><td>224</td><td>84</td></tr><tr><td>inspect</td><td>0</td><td>13</td><td>71</td><td>1</td><td>1</td></tr></tbody>
      </table>
      
    </div>
    
          </div>
        </div>

        <div class="hr stack"></div>

        <h2>Room Usage</h2>
        <h3>KPIs</h3>
        <div class='kpi-wrap'>
            <div class="kpi-card">
            <div class="kpi-label">Unique rooms</div>
            <div class="kpi">74.0</div>
            </div>
            

            <div class="kpi-card">
            <div class="kpi-label">Total nights</div>
            <div class="kpi">6517.0</div>
            </div>
            

            <div class="kpi-card">
            <div class="kpi-label">Avg nights per room</div>
            <div class="kpi">88.07</div>
            </div>
            </div>

        <div class="card">
          <div class="caption">Executive notes</div>
          <ul><li>6517 total nights across 74 rooms (avg 88.07 nights/room).</li>
<li>Highest total nights Room Type: Classic (5348 nights).</li>
<li>Most-used room: 306 (Classic) with 132 nights.</li></ul>
        </div>

        <h3>Charts</h3>
        <div class='grid'><div class='span-6'>
    <div class="card">
      <div class='caption'>Total nights by Room Type</div>
      <img src="room_usage_nights_by_room_type.png" alt="Total nights by Room Type">
    </div>
    </div>
<div class='span-6'>
    <div class="card">
      <div class='caption'>Top 10 rooms by nights</div>
      <img src="room_usage_top_rooms.png" alt="Top 10 rooms by nights">
    </div>
    </div>
<div class='span-6'>
    <div class="card">
      <div class='caption'>Top 10 Orientation/Features (by total nights)</div>
      <img src="room_usage_top_features.png" alt="Top 10 Orientation/Features (by total nights)">
    </div>
    </div></div>

        <h3>Summaries</h3>
        <div class="grid">
          <div class="card span-12">
            <div class="caption">Nights by room type</div>
            
    <div class="table-wrap">
      <table>
        <thead><tr><th>Room Type</th><th>rooms</th><th>total_nights</th><th>avg_nights_per_room</th></tr></thead>
        <tbody><tr><td>Classic</td><td>59</td><td>5348</td><td>90.64</td></tr><tr><td>Deluxe</td><td>11</td><td>811</td><td>73.73</td></tr><tr><td>Suite</td><td>2</td><td>229</td><td>114.5</td></tr><tr><td>ADAQQ</td><td>1</td><td>85</td><td>85.0</td></tr><tr><td>ADAK</td><td>1</td><td>44</td><td>44.0</td></tr></tbody>
      </table>
      
    </div>
    
          </div>
          <div class="card span-12">
            <div class="caption">Top rooms by nights</div>
            
    <div class="table-wrap">
      <table>
        <thead><tr><th>Room Number</th><th>Room Type</th><th>Number of Nights</th></tr></thead>
        <tbody><tr><td>306</td><td>Classic</td><td>132</td></tr><tr><td>311</td><td>Classic</td><td>131</td></tr><tr><td>305</td><td>Classic</td><td>126</td></tr><tr><td>309</td><td>Classic</td><td>123</td></tr><tr><td>313</td><td>Classic</td><td>121</td></tr><tr><td>307</td><td>Classic</td><td>121</td></tr><tr><td>402</td><td>Suite</td><td>121</td></tr><tr><td>304</td><td>Classic</td><td>120</td></tr><tr><td>308</td><td>Classic</td><td>116</td></tr><tr><td>317</td><td>Classic</td><td>112</td></tr></tbody>
      </table>
      
    </div>
    
          </div>
          <div class="card span-12">
            <div class="caption">Orientation/Features rollup</div>
            
    <div class="table-wrap">
      <table>
        <thead><tr><th>Feature</th><th>total_nights</th><th>mentions</th></tr></thead>
        <tbody><tr><td>West</td><td>3706</td><td>44</td></tr><tr><td>East</td><td>2811</td><td>30</td></tr><tr><td>Fireplac</td><td>229</td><td>2</td></tr><tr><td>Last</td><td>23</td><td>1</td></tr></tbody>
      </table>
      
    </div>
    
          </div>
        </div>

        <div class="card">
          <div class="caption">Notes</div>
          <ul>
            <li>All tables are capped for display; full CSV summaries are in the same folder.</li>
            <li>If the housekeeping “By day” section is empty, your Date column is too inconsistent to parse — fix the format and rerun.</li>
          </ul>
        <div class="hr"></div>

          <h3>Room Rotation by Username</h3>

          <div class="card">
            <div class="caption">How to read this</div>
            <p class="muted">
              This measures whether a user is repeatedly touching the same rooms instead of spreading work across inventory.
              Metric: <b>unique_rooms / total_actions</b>. Lower values = less rotation (more repetition).
            </p>
          </div>

          <div class="grid">
            <div class="span-12">
              {UNI_CHART_HTML}
            </div>
          </div>

          {ROTATION_CALLOUTS_HTML}

          <div class="card">
            <div class="caption">Rotation table (all users)</div>
            {}
          </div>
          <div class="card">
            <div class="caption">How to read this</div>
            <p class="muted">
              Metric: <b>unique_rooms / total_actions</b>. Lower values = less rotation (more repetition).
              Only users with <b>10+ actions</b> should be considered “real signals.”
            </p>
          </div>

          <div class="grid">
            <div class="card span-12">
              {uni_chart_html}
            </div>
          </div>

          {rotation_callouts_html}

          <div class="card">
            <div class="caption">Rotation table (all users)</div>
            {rotation_table_html}
          </div>
      </div>
    </body>
    </html>
    